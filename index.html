<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Chain - Edited Paper.js Example</title>
    <link rel="stylesheet" href="css/style.css">
    <script type="text/javascript" src="paper-full.js"></script>
    <script type="text/paperscript" canvas="canvas">
    // Adapted from the following Processing example:
    // http://processing.org/learning/topics/follow3.html

    // The amount of points in the path:
    var points = 25;

    // The distance between the points:
    var length = 35;

    var path = new Path({
      strokeColor: 'black',
      strokeWidth: 4,
      strokeCap: 'round'
    });

    var start = view.center / [10, 1];
    for (var i = 0; i < points; i++)
        path.add(start + new Point(i * length, 0));

        function onMouseMove(event) {
          path.firstSegment.point = event.point;
          for (var i = 0; i < points - 1; i++) {
            var segment = path.segments[i];
            var nextSegment = segment.next;
            var vector = segment.point - nextSegment.point;
            vector.length = length;
            nextSegment.point = segment.point - vector;

            var segment = path.segments[i];
            var nextSegment = segment.next;
            var vector = segment.point - nextSegment.point;
            vector.length = length * 2;
            nextSegment.point = segment.point - vector;
          }

        }

    function onMouseDown(event) {
        path.fullySelected = true;
        path.strokeColor = '#e08285';
    }

    function onMouseUp(event) {
        path.fullySelected = false;
        path.strokeColor = 'blue';
    }
    // rounded rectangles paper.js example
        // var mousePoint = view.center;
        // var amount = 25;
        // var colors = ['red', 'white', 'blue', 'white'];
        //
        // for (var i = 0; i < amount; i++) {
        //     var rect = new Rectangle([0, 0], [25, 25]);
        //     rect.center = mousePoint;
        //     var path = new Path.Rectangle(rect, 6);
        //     path.fillColor = colors[i % 4];
        //     var scale = (1 - i / amount) * 20;
        //     path.scale(scale);
        // }
        //
        // function onMouseMove(event) {
        //     mousePoint = event.point;
        // }
        //
        // var children = project.activeLayer.children;
        // function onFrame(event) {
        //     for (var i = 0, l = children.length; i < l; i++) {
        //         var item = children[i];
        //         var delta = (mousePoint - item.position) / (i + 5);
        //         item.rotate(Math.sin((event.count + i) / 10) * 7);
        //         if (delta.length > 0.1)
        //             item.position += delta;
        //     }
        // }
    </script>
</head>
<body>
    <canvas id="canvas" resize hidpi="off"></canvas>
</body>
</html>

<!-- _________________default p5 empty example boilerplate_________________ -->

<!-- <!DOCTYPE html>
<html lang="">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>p5.js example</title>
  <style>
    body {
      padding: 0;
      margin: 0;
    }
  </style>
  <script src="../p5.js"></script>
  <script src="../addons/p5.sound.min.js"></script>
  <script src="sketch.js"></script>
</head>

<body>
  <main>
  </main>
</body>

</html> -->
